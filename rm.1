


RM(1)          Human68k ITA TOOLBOX User's Manual           RM(1)



名称
     rm - ファイルやディレクトリを削除する

形式
     rm [ -firvR ] [ - ] name ...

解説
     ファイルやディレクトリを削除します．name ... は削除するファ
     イルやディレクトリのパス名の並びです．これらは左から右に順番
     に処理され，もし途中でエラーがあっても処理は最後まで続行され
     ます．

     name が沖版 lndrv によるシンボリック・リンクである場合にも
     name そのものが削除され，リンクが参照しているファイルやディ
     レクトリには影響は及びません．

     ディレクトリを削除するには -r オプションか -R オプションを指
     定しなければなりません．

     削除しようとするファイルが，ボリューム・ラベル，書き込み禁止，
     隠し，システム，のいずれかの属性を持っている場合，rm は確認
     メッセージを表示して 1行入力待ちとなります．ここで‘y’で始
     まる行を入力するとそのファイルは削除され，それ以外の入力では
     削除されません．また，-r（または -R）オプションが指定され，
     書き込み禁止属性を持っている，空でないディレクトリの下に進も
     うとする場合にも，rm は確認メッセージを表示して 1行入力待ち
     となります．ここで‘y’で始まる行を入力するとそのディレクト
     リの下に進み，それ以外の入力では，そのディレクトリはスキップ
     されます．ただし，これらの問い合わせは，標準入力がキャラクタ・
     デバイスでないときや -f オプションが指定されているときには行
     われず，無条件に処理が行われます．

     rm には次のオプションがあります．

     -f        どのような場合にも一切の問い合わせを行わず，ファイ
               ルやディレクトリを無条件に削除します．また，存在し
               ないエントリを指定する引数は無視します．

     -i        すべての対象ファイルについて，それを削除するかどう
               かの問い合わせが行われます．-r（または -R）オプショ
               ンが指定されているときには，すべての空でない対象ディ
               レクトリについて，そのディレクトリの下に処理を進め
               るかどうかが問い合わされ，さらに，空になった（ある
               いはもともと空である）ディレクトリを削除するかどう
               かの問い合わせが行われます．

               これらの問い合わせに対して‘y’で始まる行を入力す
               ると処理が行われ，それ以外の入力では処理はスキップ
               されます．

     -r, -R    name がディレクトリである場合には，そのディレクト
               リ以下のファイルやディレクトリを再帰的にまるごと削
               除します．

     -v        ファイルやディレクトリを削除する直前に，そのパス名
               を標準出力に出力します．

     -i オプションと -f オプションの両方を指定した場合には，最後
     に指定した一方のみが有効となります．

     オプションは -f -r のようにそれぞれ単独に記述することもでき
     ますし，-fr のように連結して指定することもできます．

     name ... の最初の単語が‘-’で始まる綴りであると，それはオプ
     ション引数と見なされてしまいます．その場合には name ... の前
     に引数 - を置いてオプション引数と name ... とを分離してくだ
     さい．

関連事項
     rmdir(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     処理中に何らかのエラーが 1つでもあった場合には 2，メモリ不足
     により実行ができなかった場合には 3，すべてが正常に終了したな
     らば 0 が返ります．^C などによって中断したときの修了ステータ
     スは OS の仕様によります．

制約
     次のような引数はエラー（“名前が無効です”）となります．

          1 ‘?:’（? は 1文字でドライブを示す）
          2 ‘/’および‘\’
          3 ‘.’および‘..’
          4  1〜3 を組み合わせた引数

     これは安全のためです．

警告
     たとえば，シェルで

          rm -r .*

     とタイプすると，引数には‘.’と‘..’とが含まれてしまうこと
     になりますが，この 2つは ITA TOOLBOX の rm ではエラーとなっ
     て処理されませんので，‘.’で始まるその他のファイルやディレ
     クトリのみを削除することができます．しかし，このような操作は
     あまりお勧めできません．他のコマンドや他のシステムでうっかり
     同じような操作をしてしまうと，悲惨な結果を招きかねません．

     いずれにしても，シェルのワイルド・カードには十分に注意してく
     ださい．また，現在の作業ディレクトリがどこであるのかをしっか
     り把握しておくことも大切です．

     少しでも不安があるときには -i オプションを使用すると良いでしょ
     う．とにかく，あせらず確実に行うべきです．

     単純なタイプ・ミスにもまた十分に注意してください．たとえばエ
     ディタ em を起動しようとして‘em’とタイプするところを‘rm’
     とタイプしてしまっては，ファイルを編集するどころか抹消してし
     まうことになります．

不具合
     ディレクトリの再帰の回数は32回に制限されています．

バージョン
     1.3

制作・著作
     Copyright(C)1992 by 板垣 史彦 (Itagaki Fumihiko)



1.3                 Last change: 06 Nov 1992     Itagaki Fumihiko



